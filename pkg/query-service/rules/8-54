
8:55:47 SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.950) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'prod' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669647388 AND timestamp_ms <= 1686669947388 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts

8:55:32 SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.990) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'staging' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669632902 AND timestamp_ms <= 1686669932902 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts

8:55:16 SELECT operation,service_name,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.990) as value FROM (SELECT operation,service_name,le,  ts, sum(value) as value FROM (SELECT operation,service_name,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, operation,service_name,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'preprod' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669616149 AND timestamp_ms <= 1686669916149 GROUP BY fingerprint, operation,service_name,le,ts ORDER BY fingerprint, operation ASC,service_name ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY operation,service_name,le,ts HAVING isNaN(value) = 0 ORDER BY operation ASC,service_name ASC,le ASC, ts) GROUP BY operation,service_name,ts ORDER BY operation ASC,service_name ASC, ts

8:54:47    SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.950) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'prod' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669587388 AND timestamp_ms <= 1686669887388 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts


8:54:32 SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.990) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'staging' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669572902 AND timestamp_ms <= 1686669872902 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts

8:54:16 SELECT operation,service_name,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.990) as value FROM (SELECT operation,service_name,le,  ts, sum(value) as value FROM (SELECT operation,service_name,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, operation,service_name,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'preprod' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669556149 AND timestamp_ms <= 1686669856149 GROUP BY fingerprint, operation,service_name,le,ts ORDER BY fingerprint, operation ASC,service_name ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY operation,service_name,le,ts HAVING isNaN(value) = 0 ORDER BY operation ASC,service_name ASC,le ASC, ts) GROUP BY operation,service_name,ts ORDER BY operation ASC,service_name ASC, ts
8:53:47 SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.950) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'prod' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669527388 AND timestamp_ms <= 1686669827388 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts

8:53:32 SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.990) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'staging' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669512902 AND timestamp_ms <= 1686669812902 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts


8:53:16 SELECT operation,service_name,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.990) as value FROM (SELECT operation,service_name,le,  ts, sum(value) as value FROM (SELECT operation,service_name,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, operation,service_name,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'preprod' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669496149 AND timestamp_ms <= 1686669796149 GROUP BY fingerprint, operation,service_name,le,ts ORDER BY fingerprint, operation ASC,service_name ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY operation,service_name,le,ts HAVING isNaN(value) = 0 ORDER BY operation ASC,service_name ASC,le ASC, ts) GROUP BY operation,service_name,ts ORDER BY operation ASC,service_name ASC, ts

8:52:47 SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.950) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'prod' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669467388 AND timestamp_ms <= 1686669767388 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts

8:52:32 SELECT service_name,operation,  ts, histogramQuantile(arrayMap(x -> toFloat64(x), groupArray(le)), groupArray(value), 0.990) as value FROM (SELECT service_name,operation,le,  ts, sum(value) as value FROM (SELECT service_name,operation,le,  ts, if (runningDifference(value) < 0 OR runningDifference(ts) < 0, nan, runningDifference(value)/runningDifference(ts)) as value FROM(SELECT fingerprint, service_name,operation,le,  toStartOfInterval(toDateTime(intDiv(timestamp_ms, 1000)), INTERVAL 30 SECOND) as ts, max(value) as value FROM signoz_metrics.distributed_samples_v2 GLOBAL INNER JOIN (SELECT  JSONExtractString(labels, 'service_name') as service_name, JSONExtractString(labels, 'operation') as operation, JSONExtractString(labels, 'le') as le, fingerprint FROM signoz_metrics.distributed_time_series_v2 WHERE metric_name = 'signoz_latency_bucket' AND JSONExtractString(labels, 'deployment_environment') = 'staging' AND JSONExtractString(labels, 'span_kind') = 'SPAN_KIND_SERVER') as filtered_time_series USING fingerprint WHERE metric_name = 'signoz_latency_bucket' AND timestamp_ms >= 1686669452902 AND timestamp_ms <= 1686669752902 GROUP BY fingerprint, service_name,operation,le,ts ORDER BY fingerprint, service_name ASC,operation ASC,le ASC, ts) WHERE isNaN(value) = 0) GROUP BY service_name,operation,le,ts HAVING isNaN(value) = 0 ORDER BY service_name ASC,operation ASC,le ASC, ts) GROUP BY service_name,operation,ts ORDER BY service_name ASC,operation ASC, ts